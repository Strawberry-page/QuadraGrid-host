(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const t of i)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const t={};return i.integrity&&(t.integrity=i.integrity),i.referrerPolicy&&(t.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?t.credentials="include":i.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(i){if(i.ep)return;i.ep=!0;const t=r(i);fetch(i.href,t)}})();const b=e=>{let n=[];for(let r=0;r<e.length;r++){const o=e[r];let i=[];for(let t=0;t<o.length;t++){const l=o[t];i.push(l)}n.push(i)}return n},E=()=>{var n;const e=document.createElement("canvas");return e.width=500,e.height=500,e.classList.add("game-canvas"),(n=document.getElementById("app"))==null||n.appendChild(e),e},x=()=>{const e=document.createElement("div");e.classList.add("user-display");const n=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),i=document.createElement("div");n.setAttribute("id","red-user-div"),r.setAttribute("id","blue-user-div"),o.setAttribute("id","yellow-user-div"),i.setAttribute("id","green-user-div"),e.appendChild(n),e.appendChild(r),e.appendChild(o),e.appendChild(i),document.getElementById("app").appendChild(e)},a=["#ffffff","#999999","#ff0000","#0000ff","#ffff00","#00aa00"],m=(e,n)=>{const r=e.getContext("2d");let o=0,i=0;r.clearRect(0,0,e.width,e.height),n.forEach(t=>{t.forEach(l=>{r.fillStyle=a[l],r.fillRect(i*(e.width/8),o*(e.height/8),e.width/8,e.height/8),i+=1,i>=8&&(i=0)}),o+=1});for(let t=0;t<9;t++)r.lineWidth=3,r.beginPath(),r.moveTo(e.width/8*t,0),r.lineTo(e.width/8*t,e.height),r.stroke();for(let t=0;t<9;t++)r.lineWidth=3,r.beginPath(),r.moveTo(0,e.height/8*t),r.lineTo(e.width,e.height/8*t),r.stroke()},W=(e,n)=>{const r=e.getBoundingClientRect();let o=0;for(let t=0;t<=7;t++)n.clientX-r.left>=e.width/8*t&&n.clientX-r.left<=e.width/8*(t+1)&&(o=t);let i=0;for(let t=0;t<=7;t++)n.clientY-r.top>=e.height/8*t&&n.clientY-r.top<=e.height/8*(t+1)&&(i=t);return[o,i]},v=(e,n)=>{const r=[];for(let o=0;o<n.length;o++){let i=n[o],t=0;for(let l=0;l<e.length;l++)for(let s=0;s<e[l].length;s++)if(e[l][s]===i){const d=[[-1,0],[1,0],[0,-1],[0,1]];for(const[c,y]of d){const g=l+c,p=s+y;g>=0&&g<e.length&&p>=0&&p<e[l].length&&e[g][p]===0&&(t+=1)}}t>0&&r.push(i)}return r},I=e=>{const n={};for(let i=0;i<e.length;i++)for(let t=0;t<e[i].length;t++){const l=e[i][t];l>1&&(n[l]||(n[l]=0),n[l]++)}let r=0,o=-1;for(const i in n){const t=n[i];t>r&&(r=t,o=parseInt(i))}return o},B=(e,n)=>{window.innerWidth>=window.innerHeight?(e.width=window.innerHeight/100*90,e.height=window.innerHeight/100*90):(e.width=window.innerWidth/100*90,e.height=window.innerWidth/100*90),m(e,n)},w=e=>{e==2?(document.getElementById("red-user-div").style.borderWidth="5px",document.getElementById("blue-user-div").style.borderWidth="1px",document.getElementById("yellow-user-div").style.borderWidth="1px",document.getElementById("green-user-div").style.borderWidth="1px"):e==3?(document.getElementById("red-user-div").style.borderWidth="1px",document.getElementById("blue-user-div").style.borderWidth="5px",document.getElementById("yellow-user-div").style.borderWidth="1px",document.getElementById("green-user-div").style.borderWidth="1px"):e==4?(document.getElementById("red-user-div").style.borderWidth="1px",document.getElementById("blue-user-div").style.borderWidth="1px",document.getElementById("yellow-user-div").style.borderWidth="5px",document.getElementById("green-user-div").style.borderWidth="1px"):e==5&&(document.getElementById("red-user-div").style.borderWidth="1px",document.getElementById("blue-user-div").style.borderWidth="1px",document.getElementById("yellow-user-div").style.borderWidth="1px",document.getElementById("green-user-div").style.borderWidth="5px")},C=(e,n,r)=>{let o=n[0],i=n[1];return e[i][o]!==0||[[i-1,o],[i+1,o],[i,o-1],[i,o+1]].filter(([d,c])=>d>=0&&d<8&&c>=0&&c<8).some(([d,c])=>e[d][c]===r)&&(e[i][o]=r),e},P=(e,n,r)=>{let o=n[0],i=n[1];if(e[i][o]!==r)return e;const t=[[-1,0],[1,0],[0,-1],[0,1]],l=(s,d)=>{s>=0&&s<8&&d>=0&&d<8&&e[d][s]>=2&&e[d][s]!==r&&(e[d][s]=1)};for(let[s,d]of t){let c=o+s,y=i+d;l(c,y)}return e},L=(e,n,r)=>{let o=[];for(let t=0;t<n.length;t++)(r.includes(n[t])||n[t]==e)&&o.push(n[t]);let i=-1;for(let t=0;t<o.length;t++)e==o[t]&&(i=t);return o.length==1?e=o[0]:i+2<=o.length?e=o[i+1]:e=o[0],e},N=[2,3,4,5];let f,h,u;const O=()=>{const e=E();f=N,h=2,x(),u=[[2,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[4,0,0,0,0,0,0,5]],m(e,u),window.addEventListener("resize",B(e,u)),e.addEventListener("mousedown",n=>D(n,e)),w(h)},D=(e,n)=>{let r=b(u);const o=W(n,e);if(r=C(r,o,h),r=P(r,o,h),JSON.stringify(u)!=JSON.stringify(r)){u=r;let i=v(u,f);h=L(h,f,i),w(h),f=i,f.length==0&&alert(`Spieler ${I(u)-1} hat gewonnen!`)}m(n,u)};O();
